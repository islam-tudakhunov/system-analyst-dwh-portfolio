# Витрина контента — Модель данных

## Ключевые поля

- `feed_id` - material_id + material_type
- `material_id` — уникальный идентификатор контентного материала  
- `material_type` — тип контента (статья / рецепт)  
- `title` — заголовок материала  
- `url` — относительный URL контента  
- `tag_ids` — массив идентификаторов тегов  
- `tag_titles` — массив названий тегов  
- `is_auto_tag` — флаг автоматических тегов  
- `comments` — массив комментариев пользователей  
- `rating_count` — количество оценок  
- `rating_sum` — сумма всех оценок  
- `add_to_fav_count` — количество добавлений в избранное  
- `recipe_steps` — массив шагов рецепта (если применимо)  
- `recipe_steps_order` — порядок шагов рецепта  
- `breadcrumb_path` — строка с иерархией навигации (хлебные крошки)

## Назначение

Эта модель данных объединяет все ключевые признаки контента, необходимые для:
- обучения моделей рекомендаций (feature store);
- аналитики вовлечённости и качества контента;
- построения продуктовых витрин уровня Data Mart.

## Источники данных

- `raw.article_tags`, `raw.recipe_tags` — связи материалов с тегами  
- `dct.tags`, `dct.breadcrumbs` — справочники тегов и навигации  
- `ods.content_comments`, `ods.content_favorites`, `ods.content_rating` — пользовательские взаимодействия  
- `ods.articles`, `ods.recipes`, `ods.recipe_steps` — контентные данные статей и рецептов  
- `dm.content_materials` — основной источник метаданных контента

## Связи

| Слой | Назначение | Пример таблиц |
|------|-------------|----------------|
| Raw | Сырые источники данных | `raw.article_tags`, `raw.recipe_tags` |
| ODS | Операционные данные (очищенные и приведённые к формату) | `ods.content_comments`, `ods.recipes` |
| DCT | Справочники и классификаторы | `dct.tags`, `dct.breadcrumbs` |
| DM | Аналитическая витрина (результат SQL-запроса) | `dm.content_feature_store` |
